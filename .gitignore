grid = []
global tab 
tab= [ [' ',' ',' ',' ',' ',' ',' '],
       [' ',' ',' ',' ',' ',' ',' '],
       [' ',' ',' ',' ',' ',' ',' '],
       [' ',' ',' ',' ',' ',' ',' '],
       [' ',' ',' ',' ',' ',' ',' '],
       [' ',' ',' ',' ',' ',' ',' '] ]
global winner
winner = -1
global player1Turn
player1Turn = True
global turn
turn = 0
red = color(255,0,0)
black = color(0)
global title
title = True
def setup():
    global player1Turn
    size(500,500)
    background(241,255,52)
    textAlign(CENTER)
    for i in range(6):
        grid.append([])
        for j in range(7):
            grid[i].append(Tile(40+(j*70), 110+(i*70)))
           # grid[i][j] = grid[i][j].Tile(40+(j*70), 110+(i*70))
    



def draw():
    
 #if(title):
  #          fill(0)
   #         textSize(75)
    #        text("Connect 4", 250, 100)
     #       if(mouseX > 205 and mouseX < 300 and mouseY > 262 and mouseY < 300):
      #          fill(255, 0, 0)
       #     textSize(50)
        #    text("Play", 250, 300)
 #else:   
    global winner      
    background(255)
    fill(241,255,52)
    rect ( -1,70,501,430)
    for i in range(6):
        for j in range (7):
            fill(grid[i][j].myColor)
            ellipse( grid[i][j].myX, grid[i][j].myY ,60,60 )                           
    if winner == -1:
        playGame()
        if turn>= 7:
             checkWin()  
                  
    elif winner == 0:
        fill(0,0,0)
        textSize(50)
        text("Tied",250,50)
    elif winner == 1:
        fill(0,0,0)
        textSize(50)
        text("PLAYER 1 WINS", 250,50)
    elif winner == 2:
        fill(0,0,0)
        textSize(50)
        text("COMPUTER WINS !! ", 250, 50)               
                                                                                 
                                                                                                                                                                  
def playGame():
    if player1Turn:
        player1()
    else:
        player2()
        
                                                                                                                                                                                                                                                               
def player1():
    fill(255,0,0,100)
    if(mouseX > 10 and mouseX < 70):
        ellipse(40, 35, 60, 60)
    elif(mouseX > 80 and mouseX < 140):
        ellipse(110, 35, 60, 60)
    elif(mouseX > 150 and mouseX < 210):
        ellipse(180, 35, 60, 60)
    elif(mouseX > 220 and mouseX < 280):
        ellipse(250, 35, 60, 60)
    elif(mouseX > 290 and mouseX < 350):
        ellipse(320, 35, 60, 60)
    elif(mouseX > 360 and mouseX < 420):
        ellipse(390, 35, 60, 60)
    elif(mouseX > 430 and mouseX < 490):
        ellipse(460, 35, 60, 60)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                    
 
                                                                                                                                                                                                                                                                                                                                                                                                                     
def player2():
    fill(0, 0, 0, 100)
    if(mouseX > 10 and mouseX < 70):
        ellipse(40, 35, 60, 60)
    elif(mouseX > 80 and mouseX < 140):
        ellipse(110, 35, 60, 60)
    elif(mouseX > 150 and mouseX < 210):
        ellipse(180, 35, 60, 60)
    elif(mouseX > 220 and mouseX < 280):
        ellipse(250, 35, 60, 60)
    elif(mouseX > 290 and mouseX < 350):
        ellipse(320, 35, 60, 60)
    elif(mouseX > 360 and mouseX < 420):
        ellipse(390, 35, 60, 60)
    elif(mouseX > 430 and mouseX < 490):
        ellipse(460, 35, 60, 60)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
def checkWin():
    global winner
    i = 5
    while i >=0 :
        for j in range(4):
                if(grid[i][j].myColor == color(255,0,0) and grid[i][j+1].myColor == color(255,0,0) and
                        grid[i][j+2].myColor == color(255,0,0) and grid[i][j+3].myColor == color(255,0,0)):
                                  winner = 1
                                  return winner
                                  break
                if(grid[i][j].myColor == color(0,0,0) and grid[i][j+1].myColor == color(0,0,0) and
                        grid[i][j+2].myColor == color(0,0,0) and grid[i][j+3].myColor == color(0,0,0)):
                                winner = 2 
                                return winner 
        i -= 1                                 
    for j in range (7): 
            i = 5
            while i >=3:
                if(grid[i][j].myColor == color(255,0,0) and grid[i-1][j].myColor == color(255,0,0) and
                        grid[i-2][j].myColor == color(255,0,0) and grid[i-3][j].myColor == color(255,0,0)):
                                  winner = 1
                                  return winner
                if(grid[i][j].myColor == color(0,0,0) and grid[i-1][j].myColor == color(0,0,0) and
                        grid[i-2][j].myColor == color(0,0,0) and grid[i-3][j].myColor == color(0,0,0)):
                                 winner = 2
                                 return winner
                i -= 1
    for i in range (3):
            for j in range(4):
                if(grid[i][j].myColor == color(255,0,0) and grid[i+1][j+1].myColor == color(255,0,0) and
                        grid[i+2][j+2].myColor == color(255,0,0) and grid[i+3][j+3].myColor == color(255,0,0)):
                                winner = 1
                                return winner
                if(grid[i][j].myColor == color(0,0,0) and grid[i+1][j+1].myColor == color(0,0,0) and
                        grid[i+2][j+2].myColor == color(0,0,0) and grid[i+3][j+3].myColor == color(0,0,0)):
                               winner = 2
                               return winner
                               break
            j = 6
            while j >=3:
                if(grid[i][j].myColor == color(255,0,0) and grid[i+1][j-1].myColor == color(255,0,0) and
                        grid[i+2][j-2].myColor == color(255,0,0) and grid[i+3][j-3].myColor == color(255,0,0)):
                               winner = 1
                               return winner
                if(grid[i][j].myColor == color(0,0,0) and grid[i+1][j-1].myColor == color(0,0,0) and
                        grid[i+2][j-2].myColor == color(0,0,0) and grid[i+3][j-3].myColor == color(0,0,0)):
                                    winner = 2
                                    return winner
                j -= 1
        
    if(turn >= 42 and winner == -1):
            winner = 0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
def mouseReleased():
        global title 
        global  turn 
        global player1Turn 
        global tab
        if( ! title and winner == -1):
            if(player1Turn):
                if(mouseX > 10 and mouseX < 70):
                   if(checkSpace(40) != -1):
                    grid[checkSpace(40)][0].myColor = color(255,0,0) 
                    tab[checkSpace(40)][0]= 'x'
                    if player1Turn == True:
                        player1Turn = False
                    else:
                        player1Turn = True 
                    turn += 1    
                if(mouseX > 80 and mouseX < 140):
                   if(checkSpace(110) != -1):
                       grid[checkSpace(110)][1].myColor = color(255,0,0)
                       tab[checkSpace(110)][1]= 'x'
                       if player1Turn == True:
                           player1Turn = False
                       else:
                           player1Turn = True 
                       turn += 1    
                if(mouseX > 150 and mouseX < 210):
                   if(checkSpace(180) != -1):
                          grid[checkSpace(180)][2].myColor = color(255,0,0)
                          tab[checkSpace(180)][2] = 'x'
                          if player1Turn == True:
                              player1Turn = False
                          else:
                              player1Turn = True 
                          turn += 1    
                if(mouseX > 220 and mouseX < 280):
                    if(checkSpace(250) != -1):
                        grid[checkSpace(250)][3].myColor = color(255,0,0)
                        tab[checkSpace(250)][3]= 'x'
                        if player1Turn == True:
                           player1Turn = False
                        else:
                            player1Turn = True 
                        turn += 1    
                if(mouseX > 290 and mouseX < 350):
                    if(checkSpace(320) != -1):
                        grid[checkSpace(320)][4]. myColor = color(255,0,0)
                        tab[checkSpace(320)][4]= 'x'
                        if player1Turn == True:
                           player1Turn = False
                        else:
                            player1Turn = True 
                        turn += 1    
                  
                if(mouseX > 360 and mouseX < 420):
                    if(checkSpace(390) != -1):
                        grid[checkSpace(390)][5].myColor = color(255,0,0)
                        tab[checkSpace(390)][5]= 'x'
                        if player1Turn == True:
                           player1Turn = False
                        else:
                            player1Turn = True 
                        turn += 1    
                if(mouseX > 430 and mouseX < 490):
                    if(checkSpace(460) != -1):
                        grid[checkSpace(460)][6].myColor = color(255,0,0)
                        tab[checkSpace(460)][6]= 'x'
                        if player1Turn == True:
                           player1Turn = False
                        else:
                            player1Turn = True 
                        turn += 1
                
                
            else:   
                 m = Minimax(tab)
                 best_move, value =(m.bestMove(4, tab, 'o'))
                 if le_noir( tab) != [0,0]:
                      grid[le_noir( tab)[0]][le_noir( tab)[1]].myColor = color(0,0,0)
                      tab[le_noir( tab)[0]][le_noir( tab)[1]]= 'o'
                 elif verif_utile(tab):
                      a = verif_de_trois(tab)[0]
                      b = verif_de_trois(tab)[1]
                      grid[a][b].myColor = color(0,0,0)
                      tab[verif_de_trois(tab)[0]][verif_de_trois(tab)[1]]= 'o'
                 elif verif_de_deux(tab) != [0,0]:
                     grid[verif_de_deux(tab)[0]][verif_de_deux(tab)[1]].myColor = color(0,0,0)
                     tab[verif_de_deux(tab)[0]][verif_de_deux(tab)[1]]= 'o'
                        
                 else:     
                        haifa_propose(best_move)
                 if player1Turn == True:
                    player1Turn = False
                 else:
                    player1Turn = True 
                 turn += 1 
              
            
        else:
                if(mouseX > 205 and mouseX < 300 and mouseY > 262 and mouseY < 300):
                    title = False           
       
        
                    
            
           # #else:
             #  
              #  if(mouseX > 10 and mouseX < 70):
               #     if(checkSpace(40) != -1):
                #        grid[checkSpace(40)][0].myColor = color(0,0,0)
            #       tab[checkSpace(40)][0]= 'o'
            #            if player1Turn == True:
           #                 player1Turn = False
            #            else:
             #               player1Turn = True 
              #          turn += 1
                    
                #if(mouseX > 80 and mouseX < 140):
                 #   if(checkSpace(110) != -1):
                  #      grid[checkSpace(110)][1].myColor = color(0,0,0)
                   #     tab[checkSpace(110)][1]= 'o'
                    #    if player1Turn == True:
                     #      player1Turn = False
                      #  else:
                       #     player1Turn = True 
                        #turn += 1
                    
                #if(mouseX > 150 and mouseX < 210):
                 #   if(checkSpace(180) != -1):
                  #      grid[checkSpace(180)][2].myColor = color(0,0,0)
                   #     tab[checkSpace(180)][2]= 'o'
                    #    if player1Turn == True:
                     #      player1Turn = False
                      #  else:
                       #     player1Turn = True 
                        #turn += 1 
                    
               # if(mouseX > 220 and mouseX < 280):
                #    if(checkSpace(250) != -1):
                 #       grid[checkSpace(250)][3].myColor = color(0,0,0)
                 #       tab[checkSpace(250)][3]= 'o'
                  #      if player1Turn == True:
                  #         player1Turn = False
                   #     else:
                   #        player1Turn = True 
                    #    turn += 1
                    #
            #    if(mouseX > 290 and mouseX < 350):
             #       if(checkSpace(320) != -1):
              #          grid[checkSpace(320)][4].myColor = color(0,0,0)
              #          tab[checkSpace(320)][4]= 'o'
               #         if player1Turn == True:
               #            player1Turn = False
                #        else:
                 #          player1Turn = True 
                  #      turn += 1
                    
             #   if(mouseX > 360 and mouseX < 420):
              #      if(checkSpace(390) != -1):
               #         grid[checkSpace(390)][5].myColor = color(0,0,0)
                #        tab[checkSpace(390)][5]= 'o'
                 #       if player1Turn == True:
                  #         player1Turn = False
                   #     else:
                    #       player1Turn = True 
                     #   turn += 1
                    
            #    if(mouseX > 430 and mouseX < 490):
             #       if(checkSpace(460) != -1):
              #          grid[checkSpace(460)][6].myColor = color(0,0,0)
               #         tab[checkSpace(460)][6]= 'o'
                #        if player1Turn == True:
                 #          player1Turn = False
                  #      else:
                   #        player1Turn = True 
                    #    turn += 1
                    
            
        
        
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        

def checkSpace(x):
        i = 5
        while i >= 0:
            if(get(x, 110 + (i*70)) == color(255)):
                return i
            i -= 1
    

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
def haifa_propose(best_move ):
    if best_move == 0:
        if(checkSpace(40) != -1):
            grid[checkSpace(40)][best_move].myColor = color(0,0,0)
            tab[checkSpace(40)][best_move]= 'o'
    elif best_move == 1:      
         if(checkSpace(110) != -1):
            grid[checkSpace(110)][1].myColor = color(0,0,0)
            tab[checkSpace(110)][1]= 'o'
    elif best_move == 2:      
        if(checkSpace(180) != -1):
           grid[checkSpace(180)][2].myColor = color(0,0,0)
           tab[checkSpace(180)][2]= 'o' 
    elif best_move == 3: 
         if(checkSpace(250) != -1):
            grid[checkSpace(250)][3].myColor = color(0,0,0)
            tab[checkSpace(250)][3]= 'o'   
    elif best_move == 4:  
        if(checkSpace(320) != -1):
            grid[checkSpace(320)][4].myColor = color(0,0,0)
            tab[checkSpace(320)][4]= 'o' 
    elif best_move == 5:
         if(checkSpace(390) != -1):
            grid[checkSpace(390)][5].myColor = color(0,0,0)
            tab[checkSpace(390)][5]= 'o'   
    elif best_move == 6: 
        if(checkSpace(460) != -1):
           grid[checkSpace(460)][6].myColor = color(0,0,0)
           tab[checkSpace(460)][6]= 'o'                        
                       
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
#def keyPressed():
 #       if(winner != -1):
  #         if(key == 'r'):
   #             some = []
    #            for some [:]grid:
     #               for( a [:] some):
             #   a.myColor=color(255)
                    
                
      ##          player1Turn = true
        #        turn = 0
         #       winner = -1

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
class Tile():
    def __init__(self, x, y):
        self.myColor = (255)
        self.myX = x
        self.myY = y      
    def getColor():
        return myColor
    def setColor(mColor):
        myColor = mColor
    def getX():
        return myX
    def getY():
        return myY       
                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
###........................MIN-MAX.................................................#####

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
# Python Final Project
# Connect Four
#
# Erik Ackermann
# Charlene Wang
#
# Connect 4 Module
# February 27, 2012

import random

class Minimax(object):
    """ Minimax object that takes a current connect four board state
    """
    
    board = None
    colors = ["x", "o"]
    
    def __init__(self, board):
        # copy the board to self.board
        self.board = [x[:] for x in board]
            
    def bestMove(self, depth, state, curr_player):
        """ Returns the best move (as a column number) and the associated alpha
            Calls search()
        """
        
        # determine opponent's color
        if curr_player == self.colors[0]:
            opp_player = self.colors[1]
        else:
            opp_player = self.colors[0]
        
        # enumerate all legal moves
        legal_moves = {} # will map legal move states to their alpha values
        for col in range(7):
            # if column i is a legal move...
            if self.isLegalMove(col, state):
                # make the move in column 'col' for curr_player
                temp = self.makeMove(state, col, curr_player)
                legal_moves[col] = -self.search(depth-1, temp, opp_player)
                
        
        best_alpha = -99999999
        best_move = None
        moves = legal_moves.items()
        random.shuffle(list(moves))
        for move, alpha in moves:
            if alpha >= best_alpha:
                best_alpha = alpha
                best_move = move
               
            
        return best_move, best_alpha     
        
    def search(self, depth, state, curr_player):
        """ Searches the tree at depth 'depth'
            By default, the state is the board, and curr_player is whomever 
            called this search
            
            Returns the alpha value
        """
        
        # enumerate all legal moves from this state
        legal_moves = []
        for i in range(7):
            # if column i is a legal move...
            if self.isLegalMove(i, state):
                # make the move in column i for curr_player
                temp = self.makeMove(state, i, curr_player)
                legal_moves.append(temp)
        
        # if this node (state) is a terminal node or depth == 0...
        if depth == 0 or len(legal_moves) == 0 or self.gameIsOver(state):
            # return the heuristic value of node
            return self.value(state, curr_player)
        
        # determine opponent's color
        if curr_player == self.colors[0]:
            opp_player = self.colors[1]
        else:
            opp_player = self.colors[0]

        alpha = -99999999
        for child in legal_moves:
            if child == None:
                print("child == None (search)")
            alpha = max(alpha, -self.search(depth-1, child, opp_player))
        return alpha

    def isLegalMove(self, column, state):
        """ Boolean function to check if a move (column) is a legal move
        """
        
        for i in range(6):
            if state[i][column] == ' ':
                # once we find the first empty, we know it's a legal move
                return True
        
        # if we get here, the column is full
        return False
    
    def gameIsOver(self, state):
        if self.checkForStreak(state, self.colors[0], 4) >= 1:
            return True
        elif self.checkForStreak(state, self.colors[1], 4) >= 1:
            return True
        else:
            return False
        
    
    def makeMove(self, state, column, color):
        """ Change a state object to reflect a player, denoted by color,
            making a move at column 'column'
            
            Returns a copy of new state array with the added move
        """
        
        temp = [x[:] for x in state]
        for i in range(6):
            if temp[i][column] == ' ':
                temp[i][column] = color
                return temp

    def value(self, state, color):
        """ Simple heuristic to evaluate board configurations
            Heuristic is (num of 4-in-a-rows)*99999 + (num of 3-in-a-rows)*100 + 
            (num of 2-in-a-rows)*10 - (num of opponent 4-in-a-rows)*99999 - (num of opponent
            3-in-a-rows)*100 - (num of opponent 2-in-a-rows)*10
        """
        if color == self.colors[0]:
            o_color = self.colors[1]
        else:
            o_color = self.colors[0]
        
        my_fours = self.checkForStreak(state, color, 4)
        my_threes = self.checkForStreak(state, color, 3)
        my_twos = self.checkForStreak(state, color, 2)
        opp_fours = self.checkForStreak(state, o_color, 4)
        #opp_threes = self.checkForStreak(state, o_color, 3)
        #opp_twos = self.checkForStreak(state, o_color, 2)
        if opp_fours > 0:
            return -100000
        else:
            return my_fours*100000 + my_threes*100 + my_twos
            
    def checkForStreak(self, state, color, streak):
        count = 0
        # for each piece in the board...
        for i in range(6):
            for j in range(7):
                # ...that is of the color we're looking for...
                if state[i][j].lower() == color.lower():
                    # check if a vertical streak starts at (i, j)
                    count += self.verticalStreak(i, j, state, streak)
                    
                    # check if a horizontal four-in-a-row starts at (i, j)
                    count += self.horizontalStreak(i, j, state, streak)
                    
                    # check if a diagonal (either way) four-in-a-row starts at (i, j)
                    count += self.diagonalCheck(i, j, state, streak)
        # return the sum of streaks of length 'streak'
        return count
            
    def verticalStreak(self, row, col, state, streak):
        consecutiveCount = 0
        for i in range(row, 6):
            if state[i][col].lower() == state[row][col].lower():
                consecutiveCount += 1
            else:
                break
    
        if consecutiveCount >= streak:
            return 1
        else:
            return 0
    
    def horizontalStreak(self, row, col, state, streak):
        consecutiveCount = 0
        for j in range(col, 7):
            if state[row][j].lower() == state[row][col].lower():
                consecutiveCount += 1
            else:
                break

        if consecutiveCount >= streak:
            return 1
        else:
            return 0
    
    def diagonalCheck(self, row, col, state, streak):

        total = 0
        # check for diagonals with positive slope
        consecutiveCount = 0
        j = col
        for i in range(row, 6):
            if j > 6:
                break
            elif state[i][j].lower() == state[row][col].lower():
                consecutiveCount += 1
            else:
                break
            j += 1 # increment column when row is incremented
            
        if consecutiveCount >= streak:
            total += 1

        # check for diagonals with negative slope
        consecutiveCount = 0
        j = col
        for i in range(row, -1, -1):
            if j > 6:
                break
            elif state[i][j].lower() == state[row][col].lower():
                consecutiveCount += 1
            else:
                break
            j += 1 # increment column when row is incremented

        if consecutiveCount >= streak:
            total += 1

        return total
    
    
    
    
def verif_de_trois(board):
   
        global threes
        threes = [0,0]
        #check horizontal
        for row in range (6):
            for start in range (3):
                #if board[row][start]!=' ':
                    #check for XXX_
                    if (board[row][start] == board[row][start+1] ==
                        board[row][start+2]=='x' and board[row][start+3] == ' '):
                        #threes[board[row][start]-1] = threes[board[row][start]-1] + 1
                               if row+1 >= 0 and row+1 <6:
                                   if tab[row+1][start+3] != ' ':
                                       threes[0] = row
                                       threes[1] = start+3                        
                                       return threes
                               else:
                                   threes[0] = row
                                   threes[1] = start+3  
                                   return threes    
                    #check for _XXX
                    if (board[row][start] == ' ' and board[row][start+1] ==
                        board[row][start+2] == board[row][start+3]=='x'):       
                        #threes[board[row][start+1]-1] = threes[board[row][start+1]-1] + 1
                                 if row+1 >= 0 and row+1 <6:
                                   if tab[row+1][start] != ' ':
                                       threes[0] = row
                                       threes[1] = start                            
                                       return threes
                                 else:
                                   threes[0] = row
                                   threes[1] = start     
                                   return threes  
                            
                    #check for X_XX
                    if (board[row][start+1] == ' ' and board[row][start] ==
                        board[row][start+2] == board[row][start+3]=='x'):   
                        #threes[board[row][start]-1] = threes[board[row][start]-1] + 1
                                  if row+1 >= 0 and row+1 <6:
                                    if tab[row+1][start+1] != ' ':
                                       threes[0] = row
                                       threes[1] = start+1                            
                                       return threes
                                  else:
                                   threes[0] = row
                                   threes[1] = start+1   
                                   return threes  
                            
                    #check for XX_X   
                    if (board[row][start+2] == ' ' and board[row][start] ==
                        board[row][start+1] == board[row][start+3]=='x'):   
                        #threes[board[row][start]-1] = threes[board[row][start]-1] + 1  
                                if row+1 >= 0 and start+2 <= 5:
                                   if tab[row+1][start+2] != ' ':
                                       threes[0] = row
                                       threes[1] = start+2                                
                                       return threes
                                else:
                                   threes[0] = row
                                   threes[1] = start+2  
                                   return threes  
              
                            
             #check vertical
        for row in range (3):
            for start in range (5):
                #if board[row][start]!=' ':
                    #check for XXX_
                    if (board[row][start] == board[row+1][start] ==
                        board[row+2][start]=='x' and board[row+3][start] == ' '):
                        #threes[board[row][start]-1] = threes[board[row][start]-1] + 1
                               if row+4 >= 0:
                                   if tab[row+4][start] != ' ':
                                       threes[0] = row+3
                                       threes[1] = start                               
                                       return threes
                               else:
                                   threes[0] = row+3
                                   threes[1] = start 
                                   return threes  
                        
                    #check for _XXX
                    if (board[row][start] == ' ' and board[row+1][start] ==
                        board[row+2][start] == board[row+3][start]=='x'):       
                        #threes[board[row][start+1]-1] = threes[board[row][start+1]-1] + 1
                                 if row+1 >= 0:
                                   if tab[row+1][start] != ' ':
                                       threes[0] = row
                                       threes[1] = start                                 
                                       return threes
                                 else:
                                   threes[0] = row
                                   threes[1] = start   
                                   return threes  
                            
                    #check for X_XX
                    if (board[row+1][start] == ' ' and board[row][start] ==
                        board[row+2][start] == board[row+3][start]=='x'):   
                        #threes[board[row][start]-1] = threes[board[row][start]-1] + 1
                                  if row+1 >= 0:
                                    if tab[row+1][start+1] != ' ':
                                       threes[0] = row
                                       threes[1] = start+1                    
                                       return threes
                                  else:
                                   threes[0] = row
                                   threes[1] = start+1     
                                   return threes  
                            
                    #check for XX_X   
                    if (board[row+2][start] == ' ' and board[row][start] ==
                        board[row+1][start] == board[row+3][start]=='x'):   
                        #threes[board[row][start]-1] = threes[board[row][start]-1] + 1  
                                if row+1 >= 0:
                                   if tab[row+1][start+2] != ' ':
                                       threes[0] = row
                                       threes[1] = start+2                            
                                       return threes
                                else:
                                   threes[0] = row
                                   threes[1] = start+2  
                                   return threes                                              
            #Check for winner diagn - bottom-right to top-left
            for row in range (3,6):
                for start in range (0,4):
                    #check for _XXX
                    if (board[row][start] == ' ' and board[row-1][start-1] ==
                        board[row-2][start-2] == board[row-3][start-3]=='x'):
                            if row+1 >= 0 and row+1 < 6:
                                   if tab[row+1][start] != ' ':
                                       threes[0] = row 
                                       threes[1] = start                            
                                       return threes
                            else:
                                   threes[0] = row 
                                   threes[1] = start 
                                   return threes  
                       
                        #threes[board[row-1][start-1]-1] = threes[board[row-1][start-1]-1] + 1
                    #check for X_XX
                    if (board[row-1][start-1] == ' ' and board[row][start] ==
                        board[row-2][start-2] == board[row-3][start-3]=='x'):  
                            if row >= 0 and row < 6:
                                   if tab[row][start-1] != ' ':
                                       threes[0] = row-1
                                       threes[1] = start-1                        
                                       return threes
                            else:
                                   threes[0] = row-1
                                   threes[1] = start-1
                                   return threes  
                        
                          #threes[board[row][start]-1] = threes[board[row][start]-1] + 1
                    #check for XX_X
                    if (board[row-2][start-2] == ' ' and board[row][start] ==
                        board[row-1][start-1] == board[row-3][start-3]=='x'):   
                             if row-1 >= 0 and row -1 <6:
                                   if tab[row-1][start-2] != ' ':
                                       threes[0] = row-2
                                       threes[1] = start-2                        
                                       return threes
                             else:
                                   threes[0] = row-2
                                   threes[1] = start-2 
                                   return threes  
                       
                            #threes[board[row][start]-1] = threes[board[row][start]-1] + 1  
                        #check for _XXX
                    if (board[row-3][start-3] == ' ' and board[row-1][start-1] ==
                        board[row-2][start-2] == board[row][start]=='x'):
                            if row-2 >= 0 and row-2 < 6:
                                   if tab[row-2][start-3] != ' ':
                                       threes[0]=row-3
                                       threes[1] = start-3                        
                                       return threes
                            else:
                                   threes[0]=row-3
                                   threes[1] = start-3  
                                   return threes  
                            
                        #threes[board[row][start]-1] = threes[board[row][start]-1] + 1
            #Check for 3 diagn - bottom-left to top-right
            for row in range (0,3):
                for start in range (0,4):
                    #check for _XXX
                    if (board[row][start] == ' ' and board[row+1][start+1] ==
                        board[row+2][start+2] == board[row+3][start+3]=='x'):
                             if row+1 >= 0  and row+1 < 6:
                                   if tab[row+1][start] != ' ':
                                       threes[0] = row
                                       threes[1] = start                             
                                       return threes
                             else:
                                   threes[0] = row
                                   threes[1] = start  
                                   return threes  
                        
                        #threes[board[row+1][start+1]-1] = threes[board[row+1][start+1]-1] + 1
                    #check for X_XX
                    if (board[row+1][start+1] == ' ' and board[row][start] ==
                        board[row+2][start+2] == board[row+3][start+3]=='x'):   
                              if row+2 >= 0 and row+2 < 6:
                                   if tab[row+2][start+1] != ' ':
                                       threes[0] = row+1
                                       threes[1] = start+1                        
                                       return threes
                              else:
                                   threes[0] = row+1
                                   threes[1] = start+1   
                                   return threes  
                        
                       # threes[board[row][start]-1] = threes[board[row][start]-1] + 1
                    #check for XX_X
                    if (board[row+2][start+2] == ' ' and board[row][start] ==
                        board[row+1][start+1] == board[row+3][start+3]=='x'): 
                             if row+3 >= 0 and row+3 < 6:
                                   if tab[row+3][start+2] != ' ':
                                       threes[0] = row+2
                                       threes[1] = start  +2                
                                       return threes
                             else:
                                   threes[0] = row+2
                                   threes[1] = start  +2   
                                   return threes  
                        
                        #threes[board[row][start]-1] = threes[board[row][start]-1] + 1  
                        #check for _XXX
                    if (board[row+3][start+3] == ' ' and board[row+1][start+1] ==
                        board[row+2][start+2] == board[row][start]=='x'):
                             if row+4 >= 0 and row+4 < 6:
                                   if tab[row+4][start+3] != ' ':
                                       threes[0] = row+3
                                       threes[1] = start+3                
                                       return threes
                             else:
                                   threes[0] = row+3
                                   threes[1] = start+3 
                                   return threes  
                       
                     #   threes[board[row][start]-1] = threes[board[row][start]-1] + 1                
       
                                     
                     
                     
                     
                     
        return threes
    
                           
    
    
def verif_utile(board):
     verif_de_trois(board)
     if(verif_de_trois(board)== [0,0]):
         return False
     else:
         return True

    

def ligne(a,b, tab):
    for i in range(a-1):
        if tab[a][b] == ' ':
            return False
        else:
            return True

            
def le_noir( board):
        """Check for the number of 3 in a rows"""
        global threes
        threes = [0,0]
        #check horizontal
        for row in range (6):
            for start in range (3):
                #if board[row][start]!=' ':
                    #check for XXX_
                    if (board[row][start] == board[row][start+1] ==
                        board[row][start+2]=='o' and board[row][start+3] == ' '):
                        #threes[board[row][start]-1] = threes[board[row][start]-1] + 1
                               if row+1 >= 0:
                                   if tab[row+1][start+3] != ' ':
                                       threes[0] = row
                                       threes[1] = start+3                                                    
                                       return threes
                               else:
                                   threes[0] = row
                                   threes[1] = start+3  
                                   return threes    
                    #check for _XXX
                    if (board[row][start] == ' ' and board[row][start+1] ==
                        board[row][start+2] == board[row][start+3]=='o'):       
                        #threes[board[row][start+1]-1] = threes[board[row][start+1]-1] + 1
                                 if row+1 >= 0:
                                     if tab[row+1][start] != ' ':
                                       threes[0] = row
                                       threes[1] = start                                                               
                                       return threes
                                 else:
                                   threes[0] = row
                                   threes[1] = start    
                                   return threes  
                            
                    #check for X_XX
                    if (board[row][start+1] == ' ' and board[row][start] ==
                        board[row][start+2] == board[row][start+3]=='o'):   
                        #threes[board[row][start]-1] = threes[board[row][start]-1] + 1
                                  if row+1 >= 0:
                                     if tab[row+1][start+1] != ' ':
                                          threes[0] = row
                                          threes[1] = start+1                                                          
                                          return threes
                                  else:
                                      threes[0] = row
                                      threes[1] = start+1    
                                      return threes  
                            
                    #check for XX_X   
                    if (board[row][start+2] == ' ' and board[row][start] ==
                        board[row][start+1] == board[row][start+3]=='o'):   
                        #threes[board[row][start]-1] = threes[board[row][start]-1] + 1  
                                
                                if row+1 >= 0: 
                                     if tab[row+1][start+2] != ' ':
                                       threes[0] = row
                                       threes[1] = start+2                                                
                                       return threes
                                else:
                                    threes[0] = row
                                    threes[1] = start+2 
                                    return threes  
              
                            
             #check vertical
        for row in range (3):
            for start in range (5):
                #if board[row][start]!=' ':
                    #check for XXX_
                    if (board[row][start] == board[row+1][start] ==
                        board[row+2][start]=='o' and board[row+3][start] == ' '):
                        #threes[board[row][start]-1] = threes[board[row][start]-1] + 1
                               if row+4 >= 0:
                                    if tab[row+4][start] != ' ':
                                       threes[0] = row+3
                                       threes[1] = start                                        
                                       return threes
                               else:
                                   threes[0] = row+3
                                   threes[1] = start
                                   return threes  
                        
                    #check for _XXX
                    if (board[row][start] == ' ' and board[row+1][start] ==
                        board[row+2][start] == board[row+3][start]=='o'):       
                        #threes[board[row][start+1]-1] = threes[board[row][start+1]-1] + 1
                                 if row+1 >= 0:
                                     if tab[row+1][start] != ' ':                                   
                                        threes[0] = row
                                        threes[1] = start                                 
                                        return threes
                                 else:
                                   threes[0] = row
                                   threes[1] = start   
                                   return threes  
                            
                    #check for X_XX
                    if (board[row+1][start] == ' ' and board[row][start] ==
                        board[row+2][start] == board[row+3][start]=='o'):   
                        #threes[board[row][start]-1] = threes[board[row][start]-1] + 1
                                  if row+1 >= 0:
                                      if tab[row+1][start+1] != ' ':
                                         threes[0] = row
                                         threes[1] = start+1                                                    
                                         return threes
                                  else:
                                      threes[0] = row
                                      threes[1] = start+1 
                                      return threes  
                            
                    #check for XX_X   
                    if (board[row+2][start] == ' ' and board[row][start] ==
                        board[row+1][start] == board[row+3][start]=='o'):   
                        #threes[board[row][start]-1] = threes[board[row][start]-1] + 1  
                                if row+1 >= 0:
                                   if tab[row+1][start+2] != ' ':
                                       threes[0] = row
                                       threes[1] = start+2                                                
                                       return threes
                                else:
                                   threes[0] = row
                                   threes[1] = start+2    
                                   return threes                                              
            #Check for winner diagn - bottom-right to top-left
            for row in range (3,6):
                for start in range (0,4):
                    #check for _XXX
                    if (board[row][start] == ' ' and board[row-1][start-1] ==
                        board[row-2][start-2] == board[row-3][start-3]=='o'):
                            if row+1 >= 0:
                               if tab[row+1][start] != ' ':
                                       threes[0] = row 
                                       threes[1] = start
                                       return threes
                            else:
                                   threes[0] = row 
                                   threes[1] = start
                                   return threes  
                       
                        #threes[board[row-1][start-1]-1] = threes[board[row-1][start-1]-1] + 1
                    #check for X_XX
                    if (board[row-1][start-1] == ' ' and board[row][start] ==
                        board[row-2][start-2] == board[row-3][start-3]=='o'):  
                            if row >= 0:
                                   if tab[row][start-1] != ' ':
                                       threes[0] = row-1
                                       threes[1] = start-1                            
                                       return threes
                            else:
                                   threes[0] = row-1
                                   threes[1] = start-1
                                   return threes  
                        
                          #threes[board[row][start]-1] = threes[board[row][start]-1] + 1
                    #check for XX_X
                    if (board[row-2][start-2] == ' ' and board[row][start] ==
                        board[row-1][start-1] == board[row-3][start-3]=='o'):   
                              if row-1 >= 0:  
                                    if tab[row-1][start-2] != ' ':
                                         threes[0] = row-2
                                         threes[1] = start-2                        
                                         return threes
                              else:
                                    threes[0] = row-2
                                    threes[1] = start-2
                                    return threes  
                       
                            #threes[board[row][start]-1] = threes[board[row][start]-1] + 1  
                        #check for _XXX
                    if (board[row-3][start-3] == ' ' and board[row-1][start-1] ==
                        board[row-2][start-2] == board[row][start]=='o'):
                            if row-2 >= 0:
                                   if tab[row-2][start-3] != ' ':
                                       threes[0]=row-3
                                       threes[1] = start-3                                
                                       return threes
                            else:
                                   threes[0]=row-3
                                   threes[1] = start-3
                                   return threes  
                            
                        #threes[board[row][start]-1] = threes[board[row][start]-1] + 1
            #Check for 3 diagn - bottom-left to top-right
            for row in range (0,3):
                for start in range (0,4):
                    #check for _XXX
                    if (board[row][start] == ' ' and board[row+1][start+1] ==
                        board[row+2][start+2] == board[row+3][start+3]=='o'):
                             if row+1 >= 0:
                                   if tab[row+1][start] != ' ':
                                       threes[0] = row
                                       threes[1] = start                                
                                       return threes
                             else:
                                   threes[0] = row
                                   threes[1] = start
                                   return threes  
                        
                        #threes[board[row+1][start+1]-1] = threes[board[row+1][start+1]-1] + 1
                    #check for X_XX
                    if (board[row+1][start+1] == ' ' and board[row][start] ==
                        board[row+2][start+2] == board[row+3][start+3]=='o'):   
                              if row+2 >= 0:
                                   if tab[row+2][start+1] != ' ':
                                       threes[0] = row+1
                                       threes[1] = start+1                                                    
                                       return threes
                              else:
                                   threes[0] = row+1
                                   threes[1] = start+1 
                                   return threes  
                        
                       # threes[board[row][start]-1] = threes[board[row][start]-1] + 1
                    #check for XX_X
                    if (board[row+2][start+2] == ' ' and board[row][start] ==
                        board[row+1][start+1] == board[row+3][start+3]=='o'): 
                           if row+3 >= 0:
                                    if tab[row+3][start+2] != ' ':
                                       threes[0] = row+2
                                       threes[1] = start  +2                            
                                       return threes
                           else:
                                   threes[0] = row+2
                                   threes[1] = start  +2
                                   return threes  
                        
                        #threes[board[row][start]-1] = threes[board[row][start]-1] + 1  
                        #check for _XXX
                    if (board[row+3][start+3] == ' ' and board[row+1][start+1] ==
                        board[row+2][start+2] == board[row][start]=='x'):
                            if row+4 >= 0:
                                   if tab[row+4][start+3] != ' ':
                                       threes[0] = row+3
                                       threes[1] = start+3                                                           
                                       return threes
                            else:
                                   threes[0] = row+3
                                   threes[1] = start+3   
                                   return threes  
                       
                     #   threes[board[row][start]-1] = threes[board[row][start]-1] + 1                                
                     
        return threes                           
      
                                                
     
                                                                                                                                    
def verif_de_deux(board):
   
        global threes
        threes = [0,0]
        #check horizontal
        for row in range (6):
            for start in range (4):
                #if board[row][start]!=' ':
                    #check for XX_
                    if (board[row][start] == board[row][start+1] == 'x'
                     and board[row][start+2] == ' '):
                        #threes[board[row][start]-1] = threes[board[row][start]-1] + 1
                               if row+1 >= 0 and row+1 <6:
                                   if tab[row+1][start+2] != ' ':
                                       threes[0] = row
                                       threes[1] = start+2                        
                                       return threes
                               else:
                                   threes[0] = row
                                   threes[1] = start+2  
                                   return threes    
                    #check for _XX
                    if (board[row][start] == ' ' and board[row][start+1] ==
                        board[row][start+2] == 'x'):       
                        #threes[board[row][start+1]-1] = threes[board[row][start+1]-1] + 1
                                 if row+1 >= 0 and row+1 <6:
                                   if tab[row+1][start] != ' ':
                                       threes[0] = row
                                       threes[1] = start                            
                                       return threes
                                 else:
                                   threes[0] = row
                                   threes[1] = start     
                                   return threes  
                            
                    #check for X_X
                    if (board[row][start+1] == ' ' and board[row][start] ==
                        board[row][start+2] =='x'):   
                        #threes[board[row][start]-1] = threes[board[row][start]-1] + 1
                                  if row+1 >= 0 and row+1 <6:
                                    if tab[row+1][start+1] != ' ':
                                       threes[0] = row
                                       threes[1] = start+1                            
                                       return threes
                                  else:
                                   threes[0] = row
                                   threes[1] = start+1   
                                   return threes  
                            
                    #check for XX_X   
                   # if (board[row][start+2] == ' ' and board[row][start] ==
                    #    board[row][start+1] == board[row][start+3]=='x'):   
                     #   #threes[board[row][start]-1] = threes[board[row][start]-1] + 1  
                      #          if row+1 >= 0 and start+2 <= 5:
                             #      if tab[row+1][start+2] != ' ':
                              #         threes[0] = row
                               #        threes[1] = start+2                                
                                #       return threes
                         #       else:
                          #         threes[0] = row
                           #        threes[1] = start+2  
                            #       return threes  
              
                            
             #check vertical
        for row in range (4):
            for start in range (5):
                #if board[row][start]!=' ':
                    #check for XX_
                    if (board[row][start] == board[row+1][start] == 'x'
                           and board[row+2][start] == ' '):
                        #threes[board[row][start]-1] = threes[board[row][start]-1] + 1
                               if row+3 >= 0:
                                   if tab[row+3][start] != ' ':
                                       threes[0] = row+2
                                       threes[1] = start                               
                                       return threes
                               else:
                                   threes[0] = row+2
                                   threes[1] = start 
                                   return threes  
                        
                    #check for _XX
                    if (board[row][start] == ' ' and board[row+1][start] ==
                        board[row+2][start] == 'x'):       
                        #threes[board[row][start+1]-1] = threes[board[row][start+1]-1] + 1
                                 if row+1 >= 0:
                                   if tab[row+1][start] != ' ':
                                       threes[0] = row
                                       threes[1] = start                                 
                                       return threes
                                 else:
                                   threes[0] = row
                                   threes[1] = start   
                                   return threes  
                            
                    #check for X_X
                    if (board[row+1][start] == ' ' and board[row][start] ==
                        board[row+2][start] == 'x'):   
                        #threes[board[row][start]-1] = threes[board[row][start]-1] + 1
                                  if row+2 >= 0:
                                    if tab[row+2][start] != ' ':
                                       threes[0] = row+1
                                       threes[1] = start                    
                                       return threes
                                  else:
                                   threes[0] = row+1
                                   threes[1] = start     
                                   return threes  
                            
                    #check for XX_X   
                   # if (board[row+2][start] == ' ' and board[row][start] ==
                    #    board[row+1][start] == board[row+3][start]=='x'):   
                        #threes[board[row][start]-1] = threes[board[row][start]-1] + 1  
                        #        if row+1 >= 0:
                         #          if tab[row+1][start+2] != ' ':
                          #             threes[0] = row
                           #            threes[1] = start+2                            
                            #           return threes
                             #   else:
                              #     threes[0] = row
                               #    threes[1] = start+2  
                                #   return threes                                              
            #Check for winner diagn - bottom-right to top-left
            for row in range (3,6):
                for start in range (0,4):
                    #check for _XX
                    if (board[row][start] == ' ' and board[row-1][start-1] ==
                        board[row-2][start-2] == 'x'):
                            if row+1 >= 0 and row+1 < 6:
                                   if tab[row+1][start] != ' ':
                                       threes[0] = row 
                                       threes[1] = start                            
                                       return threes
                            else:
                                   threes[0] = row 
                                   threes[1] = start 
                                   return threes  
                       
                        #threes[board[row-1][start-1]-1] = threes[board[row-1][start-1]-1] + 1
                    #check for X_X
                    if (board[row-1][start-1] == ' ' and board[row][start] ==
                        board[row-2][start-2] == 'x'):  
                            if row >= 0 and row < 6:
                                   if tab[row][start-1] != ' ':
                                       threes[0] = row-1
                                       threes[1] = start-1                        
                                       return threes
                            else:
                                   threes[0] = row-1
                                   threes[1] = start-1
                                   return threes  
                        
                          #threes[board[row][start]-1] = threes[board[row][start]-1] + 1
                    #check for X_X
                   # if (board[row-2][start-2] == ' ' and board[row][start] ==
                    #    board[row-1][start-1] == board[row-3][start-3]=='x'):   
                     #        if row-1 >= 0 and row -1 <6:
                      #             if tab[row-1][start-2] != ' ':
                       #                threes[0] = row-2
                        #               threes[1] = start-2                        
                         #              return threes
                          #   else:
                           #        threes[0] = row-2
                            #       threes[1] = start-2 
                             #      return threes  
                       
                            #threes[board[row][start]-1] = threes[board[row][start]-1] + 1  
                        #check for _XX
                    if (board[row-3][start-3] == ' ' and board[row-1][start-1] ==
                        board[row-2][start-2] == 'x'):
                            if row-2 >= 0 and row-2 < 6:
                                   if tab[row-2][start-3] != ' ':
                                       threes[0]=row-3
                                       threes[1] = start-3                        
                                       return threes
                            else:
                                   threes[0]=row-3
                                   threes[1] = start-3  
                                   return threes  
                            
                        #threes[board[row][start]-1] = threes[board[row][start]-1] + 1
            #Check for 3 diagn - bottom-left to top-right
            for row in range (0,3):
                for start in range (0,4):
                    #check for _XX
                    if (board[row][start] == ' ' and board[row+1][start+1] ==
                        board[row+2][start+2] == 'x'):
                             if row+1 >= 0  and row+1 < 6:
                                   if tab[row+1][start] != ' ':
                                       threes[0] = row
                                       threes[1] = start                             
                                       return threes
                             else:
                                   threes[0] = row
                                   threes[1] = start  
                                   return threes  
                        
                        #threes[board[row+1][start+1]-1] = threes[board[row+1][start+1]-1] + 1
                    #check for X_X
                    if (board[row+1][start+1] == ' ' and board[row][start] ==
                        board[row+2][start+2] == 'x'):   
                              if row+2 >= 0 and row+2 < 6:
                                   if tab[row+2][start+1] != ' ':
                                       threes[0] = row+1
                                       threes[1] = start+1                        
                                       return threes
                              else:
                                   threes[0] = row+1
                                   threes[1] = start+1   
                                   return threes  
                        
                       # threes[board[row][start]-1] = threes[board[row][start]-1] + 1
                    #check for XX_X
                    #if (board[row+2][start+2] == ' ' and board[row][start] ==
                     #   board[row+1][start+1] == board[row+3][start+3]=='x'): 
                      #       if row+3 >= 0 and row+3 < 6:
                       #            if tab[row+3][start+2] != ' ':
                        #               threes[0] = row+2
                         #              threes[1] = start  +2                
                          #             return threes
                           #  else:
                            #      threes[0] = row+2
                             #      threes[1] = start  +2   
                             #      return threes  
                        
                        #threes[board[row][start]-1] = threes[board[row][start]-1] + 1  
                        #check for _XX
                    if (board[row+3][start+3] == ' ' and board[row+1][start+1] ==
                        board[row+2][start+2] == 'x'):
                             if row+4 >= 0 and row+4 < 6:
                                   if tab[row+4][start+3] != ' ':
                                       threes[0] = row+3
                                       threes[1] = start+3                
                                       return threes
                             else:
                                   threes[0] = row+3
                                   threes[1] = start+3 
                                   return threes  
                       
                     #   threes[board[row][start]-1] = threes[board[row][start]-1] + 1                
       
                                     
                     
                     
                     
                     
        return threes
                                                                                                                                                                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
